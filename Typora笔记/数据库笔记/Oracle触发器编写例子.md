```sql
--创建测试表
CREATE TABLE test(
  t_id  NUMBER(4),
  t_name VARCHAR2(20),
  t_age NUMBER(2),
  t_sex CHAR
);
--创建记录测试表
CREATE TABLE test_log(
  l_user  VARCHAR2(15),
  l_type  VARCHAR2(15),
  l_date  VARCHAR2(30)
);

CREATE OR REPLACE PACKAGE PKG_TBLUSER_UPDATE
AS
  G_ID TBL_USER.USER_ID%TYPE;
END PKG_TBLUSER_UPDATE;
--创建触发器
--1.第一个触发器
CREATE OR REPLACE TRIGGER AFTER_UPD_TBLUSER_ROWTRG
AFTER UPDATE OF t_sex ON TEST
FOR EACH ROW
BEGIN
  PKG_TBLUSER_UPDATE.G_ID:=:NEW.T_ID,
END;
--2.第二个触发器
CREATE OR REPLACE TRIGGER AFTER_UPD__TBLUSER_TRG
AFTER UPDATE OF t_sex ON test
BEGIN
  UPDATE TEST 
    SET T_SEX = 'W' 
    WHERE 
    T_ID = PKG_TBLUSER_UPDATE.G_ID;
END;

--下面我们来分别执行DML语句
INSERT INTO test VALUES(101,'zhao',22,'M');
UPDATE test SET t_sex = 'K' WHERE t_id = 101;
DELETE test WHERE t_id = 101;
--然后查看效果
SELECT * FROM test;
SELECT * FROM test_log;

-- 查询触发器
SELECT * FROM DBA_OBJECTS WHERE OBJECT_TYPE='TRIGGER' and OBJECT_NAME = 'AFTER_UPD_TBLUSER_ROWTRG'
-- 删除触发器
DROP TRIGGER AFTER_UPD_TBLUSER_ROWTRG;



--合同触发器
        --1.创建程序包
        CREATE OR REPLACE PACKAGE "HRCM_CONTTYPE_STATE_PKG"
        AS
          G_PK HRCM_CONTTYPE_STATE.PK_CONTTYPE_STATE%TYPE;
          G_STATE HRCM_CONTTYPE_STATE.CONTSTATE%TYPE;
        END HRCM_CONTTYPE_STATE_PKG;
        --2.触发器
        --1.
        CREATE OR REPLACE TRIGGER "HRCM_CONTTYPE_STATE_ROWTRG"
        AFTER UPDATE OF CONTSTATE ON HRCM_CONTTYPE_STATE
        FOR EACH ROW
        BEGIN
          HRCM_CONTTYPE_STATE_PKG.G_PK:=:NEW.PK_CONTTYPE_STATE;
          HRCM_CONTTYPE_STATE_PKG.G_STATE:=:NEW.CONTSTATE;
        END;
        --2.
        CREATE OR REPLACE TRIGGER "HRCM_CONTTYPE_STATE_TRG"
        AFTER UPDATE OF CONTSTATE ON HRCM_CONTTYPE_STATE
        BEGIN
          IF(HRCM_CONTTYPE_STATE_PKG.G_STATE = 1) THEN
            UPDATE HRCM_CONTTYPE_STATE 
              SET CONTSTATE = 2 
            WHERE 
              PK_CONTTYPE_STATE = HRCM_CONTTYPE_STATE_PKG.G_PK;
          END IF;
        END;

select * from hrcm_conttype_state 










```

